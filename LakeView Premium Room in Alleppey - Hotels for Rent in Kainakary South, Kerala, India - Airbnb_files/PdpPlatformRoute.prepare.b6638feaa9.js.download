__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),s=r(d[1]),o=r(d[2]),l=r(d[3]),n=babelHelpers.interopRequireDefault(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5]));var p=({isPrefetch:p,location:c,match:b,loadQuery:f,previousLocation:h,previousPrepareProps:v,customPrepareNiobeData:y})=>{const{id:_}=b.params,{source_impression_id:q}=(0,n.default)(c.search),P=c.pathname.split(_)[0]===(null==h?void 0:h.pathname.split(_)[0]);if(v&&P)return v;const I={...p&&{'X-Airbnb-Prefetch':'web'}},R=Object.keys(I).length?{headers:I}:void 0,D=Boolean(y.launchPdpUncaching),k=q||y.p3_impression_id||(0,l.generateId)();return{queryRef:f({context:R,query:t.default,variables:(0,s.getRequestVariables)({location:c,match:b,p3ImpressionId:k}),deferrable:D}),skeletonQueryRef:f({query:u.default,variables:{id:(0,o.createGlobalId)('StayListing',b.params.id)},skip:!D}),showDeferredSkeleton:D,p3ImpressionId:k}};e.default=p}),"1d2725",["7096f2","99b905","56afe0","4cfe98","a7c4ef","31558b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0]).then(babelHelpers.interopRequireWildcard).then((t=>t.default)),name:'PdpEarlyFlushMetadataQueryV2',type:'query',operationId:'500d7049641722ac4b7942133db1868ba1e3df01fa8dc24fc019d1e62b5e3d69'};e.default=t}),"31558b",["576ad7","c592d7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setImpressionId=e.resetImpressionId=e.generateId=e.default=void 0;var s=r(d[0]);let t;const n=()=>`p3_${(0,s.computeBev)()}`;e.generateId=n;const o=()=>{t=n()};e.resetImpressionId=o;e.setImpressionId=s=>{t=s},o();e.default=()=>t}),"4cfe98",["4304c2"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){return window.btoa(n)}function t(n,t){return`${n}:${encodeURIComponent(t).replace(/%20/g,'+').replace(/\(/g,'%28').replace(/\)/g,'%29')}`}function o(n){const t=n.split(':'),[o,c]=t,l=c&&decodeURIComponent(c.replace(/\+/g,'%20').replace(/%28/g,'(').replace(/%29/g,')'));if(void 0===o||void 0===l)throw new Error('Failed to decode global ID');return{typename:o,internalId:l}}Object.defineProperty(e,"__esModule",{value:!0}),e.createGlobalId=function(o,c){return n(t(o,c))},e.getInternalId=function(n){const{internalId:t}=o((c=n,window.atob(c)));var c;return t},e.parseGlobalId=function(n){return n},e.stringifyGlobalId=function(n){return n}}),"56afe0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return s(t.search)},e.setTranslateUgcParam=function(s){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===s)return;const c=(0,l.default)(),f='UNTRANSLATED'===s,p=(0,n.default)({...c,translate_ugc:String(f)},t.default),{hash:b,pathname:h,search:D}=window.location,w=(0,o.default)({params:p,pathname:h,search:D})+b;(0,u.getHistory)().replace(w)};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),u=r(d[2]),l=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4]));function s(t){const{translate_ugc:n}=(0,l.default)(t);return n?'true'===n:null}}),"5dafcf",["88e3c5","c97d21","7934b6","a7c4ef","99d1d8"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0]).then(babelHelpers.interopRequireWildcard).then((t=>t.default)),name:'StaysPdpSections',type:'query',operationId:'8a625c38b4b67aee2b4ad6215fc3da8953283c909ae732f8e4fd6d0fa12eaf95'};e.default=t}),"7096f2",["0b8924","c592d7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){const{display_extensions:n}=(0,t.default)(l.search);if(null==n||!Array.isArray(n))return null;return n.map((t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null))};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"7692ad",["a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}}),"874bf3",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return u(t.search)};var t=babelHelpers.interopRequireDefault(r(d[0]));function u(u){const{pdp_type_override:c,tier_override:n}=(0,t.default)(u);if(n&&'0'===n)return'MARKETPLACE';if(n&&'1'===n)return'PLUS';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';case'PLUS':case'plus':return'PLUS';default:return}}}),"8ceb28",["a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:c=!1,location:p,match:_,p3ImpressionId:I}){const y=(0,l.createGlobalId)('StayListing',_.params.id),h=(0,t.default)(p.search),{adults:b,bypass_targetings:f,cancellation_policy_id:k,category_tag:S,cause_id:v,check_in:N,check_out:R,children:q,disaster_id:D,discountedGuestFeeVersion:P=null,federatedSearchId:T=null,federated_search_id:O=null,force_boost_unc_priority_message_type:B,guests:E,infants:M,interactionType:U=null,mockId:w,omni_page_id:A,omni_version_id:C,original_check_in:G,original_check_out:H,pets:V,photoId:x=null,photo_id:L=null,preview:F,priceDropSource:W,private_booking:j,promotionUuid:z,rate_plan_id:J,relaxed_amenity_ids:K,searchId:Q=null,staysBookingMigrationEnabled:X=null,useNewSectionWrapperApi:Y=null}=h,Z={adults:b||E||'1',bypassTargetings:'true'===f,categoryTag:S||null,causeId:v||null,children:q||null,disasterId:D||null,discountedGuestFeeVersion:Number(P)||null,displayExtensions:(0,o.default)(p),federatedSearchId:T||O,forceBoostPriorityMessageType:B||null,infants:M||null,interactionType:U,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:A,omniVersionId:C,pets:Number(V)||0,pdpTypeOverride:(0,u.default)(p)||null,photoId:x||L,preview:'true'===F,previousStateCheckIn:G||null,previousStateCheckOut:H||null,priceDropSource:W||null,privateBooking:'true'===j,promotionUuid:z||null,relaxedAmenityIds:K||null,searchId:Q,selectedCancellationPolicyId:Number(k)||null,selectedRatePlanId:Number(J)||null,splitStays:c?(0,s.default)({id:y,queryParams:h}):null,staysBookingMigrationEnabled:'true'===X,translateUgc:(0,n.getTranslateUgcParam)(p),useNewSectionWrapperApi:'true'===Y,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:I};N&&R&&(Z.checkIn=N,Z.checkOut=R);return{id:y,pdpSectionsRequest:Z,...w&&{mockIdentifier:w}}};var t=babelHelpers.interopRequireDefault(r(d[0])),l=r(d[1]),n=r(d[2]),u=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4])),s=babelHelpers.interopRequireDefault(r(d[5]))}),"99b905",["a7c4ef","56afe0","5dafcf","8ceb28","7692ad","874bf3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce(((t,[n,c])=>(u(c,n)&&(t[n]=c),t)),{})}}),"c97d21",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-route/routes/PdpPlatformRoute.prepare.186210761c.js.map